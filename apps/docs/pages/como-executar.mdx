---
title: Como executar localmente
---

import { Callout } from 'nextra/components'

# Como executar o projeto localmente

<Callout type="info" emoji="üöÄ">
  <strong>Deploys dispon√≠veis</strong>
  <ul>
    <li>Documenta√ß√£o: <a href="https://pdpx-docs.vercel.app/" target="_blank" rel="noreferrer">pdpx-docs.vercel.app</a></li>
    <li>Front-end (deploy): <a href="https://pdpx-web-ten.vercel.app/" target="_blank" rel="noreferrer">pdpx-web-ten.vercel.app</a></li>
  </ul>
  Deploys hospedados na Vercel.
</Callout>

## Pr√©-requisitos

- Node.js 20.x ou 22.x (recomendado). M√≠nimo suportado: 18.18.
- PNPM (workspace usa pnpm v10)
- Vari√°veis de ambiente (.env) para API e Web quando necess√°rio

```bash
# Exemplo com nvm
nvm install 20
nvm use 20
```
- Vari√°veis de ambiente (.env) para API e Web quando necess√°rio

## Passos r√°pidos (monorepo)

```bash
pnpm install

# subir tudo em modo dev (usa Turborepo)
pnpm dev
```

## Executar apps individualmente

### API (NestJS)

```bash
pnpm -F @pdpx/api dev
# Porta padr√£o: 3010 (vari√°vel: API_PORT)
# Swagger: http://localhost:3010/api/docs
# Banco de dados: Supabase (Postgres)
```

### Web (Next.js)

```bash
pnpm -F @pdpx/web dev
# Porta padr√£o: 3000
```

### E2E (Cypress)

```bash
pnpm e2e:open
# ou
pnpm -F @pdpx/web-e2e e2e:run
```

- Os testes de e-mail utilizam MailSlurp. Configure `MAILSLURP_API_KEY` (ou `CYPRESS_MAILSLURP_API_KEY`).

## Vari√°veis de ambiente

Lista das vari√°veis usadas no projeto (apenas nomes e finalidade, sem valores):

### API (NestJS)

- `API_PORT`: porta da API em desenvolvimento (padr√£o 3010).
- `DATABASE_URL`: string de conex√£o do PostgreSQL usada pelo Prisma.
- `DIRECT_URL`: conex√£o direta do PostgreSQL (migrations/CLI do Prisma).
- `SUPABASE_URL`: URL do projeto Supabase.
- `SUPABASE_ANON_KEY`: chave p√∫blica do Supabase.
- `SUPABASE_SERVICE_ROLE_KEY`: chave de service role do Supabase (uso restrito no servidor).

### Web (Next.js)

- `NEXT_PUBLIC_API_BASE_URL`: base URL da API consumida pelo frontend.
- `NEXT_PUBLIC_SITE_URL`: URL p√∫blica do site (SEO/OG/etc.).
- `VERCEL_URL`: fornecida pelo Vercel em deploys (opcional, usada como fallback em alguns cen√°rios).

### E2E (Cypress)

- `CYPRESS_BASE_URL`: base da aplica√ß√£o web sob teste (padr√£o http://localhost:3000).
- `API_BASE_URL`: base da API para testes (fallback se `NEXT_PUBLIC_API_BASE_URL` n√£o estiver presente).
- `NEXT_PUBLIC_API_BASE_URL`: tamb√©m pode ser lida pelos testes como fallback.
- `MAILSLURP_API_KEY` ou `CYPRESS_MAILSLURP_API_KEY`: chave para testes de e-mail (quando habilitado).

## Observa√ß√µes

- `turbo.json` coordena as tasks e vari√°veis compartilhadas.
- `pnpm-workspace.yaml` define os workspaces `apps/*` e `packages/*`.

